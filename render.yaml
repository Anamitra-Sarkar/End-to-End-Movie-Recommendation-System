# Render Blueprint Configuration
# This file can be used to configure the Render deployment
# See: https://render.com/docs/blueprint-spec

services:
  # Backend API Service
  - type: web
    name: end-to-end-movie-recommendation-system
    env: docker
    dockerfilePath: ./Dockerfile
    plan: free
    region: oregon
    autoDeploy: true
    healthCheckPath: /
    envVars:
      - key: PORT
        value: 10000
      - key: PYTHON_VERSION
        value: 3.9
      - key: TMDB_API_KEY
        sync: false  # This should be set manually in Render dashboard for security
    
    # Build settings
    buildFilter:
      paths:
        - app.py
        - Dockerfile
        - requirements.txt
        - Artifacts/**
        - nltk_setup.py

# Static Site (Frontend) - Deployed on Vercel
# Frontend URL: https://end-to-end-movie-recommendation-sys.vercel.app/
# This render.yaml only handles the backend deployment
